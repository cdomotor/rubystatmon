<%= form_with(model: @station, local: true, class: "space-y-6") do |f| %>
  <% if @station.errors.any? %>
    <div class="rounded-md bg-red-50 p-4 text-red-700 text-sm">
      <p class="font-semibold mb-2">
        <%= pluralize(@station.errors.count, "error") %> prohibited this station from being saved:
      </p>
      <ul class="list-disc ml-5 space-y-1">
        <% @station.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= f.label :name, class: "block text-sm font-medium text-gray-900" %>
    <%= f.text_field :name,
          class: "mt-1 w-full rounded-md border-gray-600 shadow-sm
                  focus:border-blue-500 focus:ring focus:ring-blue-200 px-3 py-2" %>
  </div>

  <div>
    <%= f.label :ip_address, "IP Address / Host", class: "block text-sm font-medium text-gray-700" %>
    <%= f.text_field :ip_address,
          placeholder: "e.g. 8.8.8.8 or host.local",
          class: "mt-1 w-full rounded-md border-gray-600 shadow-sm
                  focus:border-blue-500 focus:ring focus:ring-blue-200 px-3 py-2" %>
  </div>

  <div>
    <%= f.label :configured_parameters, "Configured Parameters (JSON Array)", class: "block text-sm font-medium text-gray-700" %>
    <%= f.text_area :configured_parameters,
          rows: 3,
          placeholder: '["Battery","SignalStrength"]',
          class: "mt-1 w-full rounded-md border-gray-600 shadow-sm
                  focus:border-blue-500 focus:ring focus:ring-blue-200
                  px-3 py-2 font-mono text-sm" %>
  </div>

  <div class="flex justify-end mt-6">
    <%= f.submit(@station.new_record? ? "Create Station" : "Update Station",
          class: "inline-flex items-center rounded-md bg-blue-600 px-4 py-2
                  text-white font-semibold shadow hover:bg-blue-700") %>
  </div>
<% end %>
